# .env.prod.example - Production environment configuration
# Copy this to .env.prod and customize for your production deployment

# =============================================================================
# PRODUCTION DJANGO SETTINGS
# =============================================================================

DEBUG=False
ENVIRONMENT=production

# CRITICAL: Change this to a strong, unique secret key
SECRET_KEY=your-production-secret-key-minimum-50-characters-long-and-random

# Production domains (no localhost!)
ALLOWED_HOSTS=harbourhub.com,www.harbourhub.com,api.harbourhub.com

# Production URLs
SITE_URL=https://harbourhub.com
SITE_NAME=Harbour Hub

# =============================================================================
# PRODUCTION DATABASE
# =============================================================================

# Production PostgreSQL (recommend AWS RDS, Google Cloud SQL, etc.)
DB_NAME=harbour_hub_prod
DB_USER=harbour_hub_user
DB_PASSWORD=ultra-secure-database-password-here
DB_HOST=your-db-host.amazonaws.com
DB_PORT=5432

# Connection pooling for production
DB_CONN_MAX_AGE=600
DB_MAX_CONNECTIONS=50

# =============================================================================
# PRODUCTION REDIS
# =============================================================================

# Production Redis (recommend AWS ElastiCache, Redis Cloud, etc.)
REDIS_URL=redis://your-redis-host:6379/1
CELERY_BROKER_URL=redis://your-redis-host:6379/0

# =============================================================================
# PRODUCTION EMAIL
# =============================================================================

EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# Production SMTP (recommend AWS SES, SendGrid, Mailgun)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@harbourhub.com
EMAIL_HOST_PASSWORD=your-secure-email-password

DEFAULT_FROM_EMAIL=Harbour Hub <noreply@harbourhub.com>
SERVER_EMAIL=server@harbourhub.com
ADMIN_EMAIL=admin@harbourhub.com

# =============================================================================
# PRODUCTION FILE STORAGE (AWS S3)
# =============================================================================

USE_S3=True

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_STORAGE_BUCKET_NAME=harbour-hub-production-storage
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=harbour-hub-production-storage.s3.amazonaws.com

# S3 Production Settings
AWS_DEFAULT_ACL=public-read
AWS_S3_OBJECT_PARAMETERS_CacheControl=max-age=86400
AWS_QUERYSTRING_AUTH=False
AWS_S3_FILE_OVERWRITE=False

# =============================================================================
# PRODUCTION SECURITY SETTINGS
# =============================================================================

# CORS for production frontend
CORS_ALLOWED_ORIGINS=https://harbourhub.com,https://www.harbourhub.com,https://admin.harbourhub.com

# CSRF protection
CSRF_TRUSTED_ORIGINS=https://harbourhub.com,https://www.harbourhub.com

# JWT Production Settings
JWT_ACCESS_TOKEN_LIFETIME_HOURS=12
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
JWT_ROTATE_REFRESH_TOKENS=True

# SSL/HTTPS Security (CRITICAL for production)
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# Cookie Security
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True

# =============================================================================
# PRODUCTION RATE LIMITING
# =============================================================================

RATELIMIT_ENABLE=True
LOGIN_RATE_LIMIT=3/h
INQUIRY_RATE_LIMIT=5/h
REGISTRATION_RATE_LIMIT=3/h
API_RATE_LIMIT=500/hour

# =============================================================================
# PRODUCTION MONITORING
# =============================================================================

# Sentry Error Tracking (HIGHLY RECOMMENDED)
SENTRY_DSN=https://your-sentry-dsn@o123456.ingest.sentry.io/123456789

# Logging
LOG_LEVEL=WARNING
LOG_TO_FILE=True
LOG_FILE_PATH=/var/log/harbour_hub/harbour_hub.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=10

# Performance Monitoring
ENABLE_QUERY_COUNTING=False
SLOW_QUERY_THRESHOLD_MS=500

# =============================================================================
# PRODUCTION BUSINESS SETTINGS
# =============================================================================

# File upload limits (stricter in production)
MAX_IMAGE_SIZE_MB=5
MAX_DOCUMENT_SIZE_MB=25
MAX_IMAGES_PER_LISTING=8
MAX_DOCUMENTS_PER_LISTING=3

# Business rules
AUTO_APPROVE_LISTINGS=False
REQUIRE_ADMIN_APPROVAL=True
REQUIRE_EMAIL_VERIFICATION=True
AUTO_VERIFY_SERVICE_PROVIDERS=False

# Rate limits
MAX_INQUIRIES_PER_HOUR=5
AUTO_MARK_SPAM_THRESHOLD=3

# =============================================================================
# PRODUCTION INTEGRATIONS
# =============================================================================

# Google reCAPTCHA (RECOMMENDED)
RECAPTCHA_PUBLIC_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
RECAPTCHA_PRIVATE_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe

# Google Analytics
GOOGLE_ANALYTICS_ID=UA-123456789-1
GOOGLE_ANALYTICS_ENABLED=True

# =============================================================================
# PRODUCTION BACKUP CONFIGURATION
# =============================================================================

BACKUP_ENABLED=True
BACKUP_DIRECTORY=/opt/harbour_hub/backups
BACKUP_RETENTION_DAYS=90
BACKUP_SCHEDULE=0 2 * * *

# S3 Backup
BACKUP_TO_S3=True
BACKUP_S3_BUCKET=harbour-hub-production-backups

# =============================================================================
# PRODUCTION FEATURE FLAGS
# =============================================================================

ENABLE_USER_REGISTRATION=True
ENABLE_CONTENT_REPORTING=True
ENABLE_ANALYTICS_TRACKING=True
ENABLE_EMAIL_NOTIFICATIONS=True
MAINTENANCE_MODE=False

# =============================================================================
# PRODUCTION API SETTINGS
# =============================================================================

API_RATE_LIMIT=200/hour
API_BURST_LIMIT=50/minute
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=50

# API Documentation (consider restricting in production)
ENABLE_API_DOCS=True
API_DOCS_AUTHENTICATION_REQUIRED=True

# =============================================================================
# PRODUCTION CACHE SETTINGS
# =============================================================================

CACHE_TIMEOUT=7200
CACHE_KEY_PREFIX=harbour_hub_prod

# =============================================================================
# PRODUCTION NOTIFICATION SETTINGS
# =============================================================================

SEND_WELCOME_EMAIL=True
SEND_INQUIRY_NOTIFICATIONS=True
SEND_LISTING_APPROVED_NOTIFICATIONS=True
SEND_VERIFICATION_NOTIFICATIONS=True
SEND_ADMIN_REPORT_NOTIFICATIONS=True

BATCH_EMAIL_PROCESSING=True
EMAIL_BATCH_SIZE=50
EMAIL_RATE_LIMIT=50/hour

# =============================================================================
# PRODUCTION ANALYTICS
# =============================================================================

TRACK_USER_ACTIVITY=True
TRACK_LISTING_VIEWS=True
TRACK_SEARCH_QUERIES=True
ANALYTICS_RETENTION_DAYS=730

# =============================================================================
# HEALTH CHECKS & MONITORING
# =============================================================================

HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_DATABASE=True
HEALTH_CHECK_REDIS=True
HEALTH_CHECK_S3=True

# =============================================================================
# PRODUCTION DEPLOYMENT SETTINGS
# =============================================================================

# Gunicorn settings
GUNICORN_WORKERS=4
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=5

# Static files
STATIC_URL=/static/
MEDIA_URL=/media/

# =============================================================================
# KUBERNETES/DOCKER PRODUCTION OVERRIDES
# =============================================================================

# For containerized production deployment
POSTGRES_HOST=postgres-service
REDIS_HOST=redis-service

# Health check endpoints for load balancer
HEALTH_CHECK_URL=/health/

# =============================================================================
# COMPLIANCE & LEGAL
# =============================================================================

# Privacy settings
GDPR_COMPLIANCE=True
COOKIE_CONSENT_REQUIRED=True
DATA_RETENTION_DAYS=2555  # 7 years

# Terms and conditions
TERMS_VERSION=1.0
PRIVACY_POLICY_VERSION=1.0

# =============================================================================
# PRODUCTION SUPPORT CONTACTS
# =============================================================================

SUPPORT_EMAIL=support@harbourhub.com
SUPPORT_PHONE=+1-555-HARBOUR
BUSINESS_ADDRESS=123 Harbor Street, Houston, TX 77001, USA

# Emergency contacts
EMERGENCY_CONTACT=emergency@harbourhub.com
TECHNICAL_CONTACT=tech@harbourhub.com